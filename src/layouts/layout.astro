---
import '../styles/global.css';
import Footer from '../components/footer.astro';
import Navbar from '../components/ui/Navbar.astro';

const { siteTitle = 'AI Resources', description = 'A curated collection of the best AI tools, courses, and resources. From code editors to learning platforms, find everything you need to build, learn, and innovate with AI.', pageTitle, page } = Astro.props;

const siteUrl = Astro.site || 'https://airesources.dev';
const canonicalUrl = new URL(Astro.url.pathname, siteUrl).href;
const ogImageUrl = new URL('/og_image_final.png', siteUrl).href;
const fullTitle = pageTitle ? `${siteTitle} - ${pageTitle}` : siteTitle;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
		<meta name="theme-color" content="#171717" media="(prefers-color-scheme: dark)" />
		<meta name="robots" content="index, follow" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="apple-touch-icon" href="/favicon.svg" />
		<title>{fullTitle}</title>
		<meta name="description" content={description} />
		<link rel="canonical" href={canonicalUrl} />
		
		<meta property="og:type" content="website" />
		<meta property="og:url" content={canonicalUrl} />
		<meta property="og:title" content={fullTitle} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={ogImageUrl} />
		<meta property="og:image:secure_url" content={ogImageUrl} />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content={`${siteTitle} - ${description}`} />
		<meta property="og:site_name" content={siteTitle} />
		<meta property="og:locale" content="en_US" />
		
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:url" content={canonicalUrl} />
		<meta name="twitter:title" content={fullTitle} />
		<meta name="twitter:description" content={description} />
		<meta name="twitter:image" content={ogImageUrl} />
		<meta name="twitter:image:alt" content={`${siteTitle} - ${description}`} />
		<meta name="twitter:site" content="@catalinmpit" />
		<meta name="twitter:creator" content="@catalinmpit" />
		
		<link rel="sitemap" href="/sitemap-index.xml" />
		
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@type": "WebSite",
			"name": siteTitle,
			"description": description,
			"url": siteUrl
		})} />
		
		<script type="text/partytown" defer data-domain="airesources.dev" src="https://plausible.self-host.tech/js/script.file-downloads.hash.outbound-links.pageview-props.tagged-events.js"></script>
		<script is:inline>
			window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }
		</script>
	</head>
	<body class="bg-neutral-100 dark:bg-neutral-900 min-h-screen flex flex-col">
		<Navbar />
		<main class="flex-grow">
			<slot />
		</main>
		<Footer currentPath={Astro.url.pathname} />
	</body>
</html>
